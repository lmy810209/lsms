<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>LSMS 로그인</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard-dynamic-subset.css" />

  <style>
    :root{
      --bg-main:#050608;
      --bg-panel:#111217;
      --accent-green:#49e38f;
      --accent-cyan:#57d8ff;
      --accent-red:#ff5757;
      --text-primary:#f5f7ff;
      --text-muted:#9ca3b5;
      --border-soft:#272938;
      --radius-lg:18px;
    }
    *{box-sizing:border-box;margin:0;padding:0;}
    body{
      font-family:"Pretendard",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:radial-gradient(circle at top,#171823 0,#050608 60%);
      color:var(--text-primary);
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .card{
      width:360px;
      max-width:94vw;
      background:radial-gradient(circle at top,#181926,#050608);
      border-radius:var(--radius-lg);
      border:1px solid var(--border-soft);
      padding:24px 22px 20px;
      box-shadow:0 22px 40px rgba(0,0,0,0.65);
    }
    .logo{
      display:flex;align-items:center;gap:10px;margin-bottom:18px;
    }
    .logo-dot{
      width:24px;height:24px;border-radius:999px;
      background:radial-gradient(circle at 30% 0,#ffffff,#49e38f);
      box-shadow:0 0 18px rgba(73,227,143,0.7);
    }
    .logo-main{font-size:16px;letter-spacing:0.08em;text-transform:uppercase;}
    .logo-sub{font-size:11px;color:var(--text-muted);}
    .title{font-size:14px;margin-bottom:4px;}
    .subtitle{font-size:12px;color:var(--text-muted);margin-bottom:14px;}

    .field{margin-bottom:12px;}
    .field label{display:block;font-size:11px;color:#a2a7c3;margin-bottom:4px;}
    .input,select{
      width:100%;background:#050608;border-radius:10px;
      border:1px solid #2d3044;padding:7px 10px;font-size:13px;
      color:var(--text-primary);outline:none;
    }
    .input:focus,select:focus{
      border-color:var(--accent-green);
      box-shadow:0 0 0 1px rgba(73,227,143,0.4);
    }

    .role-row{display:flex;gap:8px;font-size:12px;margin-bottom:12px;}
    .role-pill{
      flex:1;display:flex;align-items:center;gap:6px;
      padding:6px 9px;border-radius:999px;
      background:#050608;border:1px solid #26283a;
      cursor:pointer;font-size:12px;color:var(--text-muted);
    }
    .role-pill input{accent-color:var(--accent-green);}
    .hint{font-size:11px;color:var(--text-muted);margin-bottom:12px;}

    .btn{
      width:100%;border:none;border-radius:999px;
      padding:9px 0;margin-top:2px;
      font-size:14px;font-weight:500;
      background:linear-gradient(135deg,#49e38f,#18a05b);
      color:#050608;cursor:pointer;
      box-shadow:0 12px 24px rgba(15,118,80,0.6);
    }
    .btn:active{transform:translateY(1px);box-shadow:0 8px 18px rgba(15,118,80,0.5);}
    .error{margin-top:8px;font-size:11px;color:var(--accent-red);min-height:14px;}
    .footer{margin-top:12px;font-size:10px;color:var(--text-muted);text-align:right;}
  </style>
</head>
<body>
  <div class="card">
    <div class="logo">
      <div class="logo-dot"></div>
      <div>
        <div class="logo-main">LSMS</div>
        <div class="logo-sub">Landscape Smart Management System</div>
      </div>
    </div>

    <div class="title">현장 로그인</div>
    <div class="subtitle">현장 · 권한을 선택하고 LSMS OUTDOOR 대시보드로 이동합니다.</div>

    <div class="field">
      <label for="site">현장 선택</label>
      <select id="site">
        <option value="yangjae" selected>양재 HQ</option>
        <option value="gangnam">강남대로 사옥</option>
        <option value="etc">기타 현장</option>
      </select>
    </div>

    <div class="field">
      <label for="userId">아이디</label>
      <input id="userId" class="input" placeholder="예: yangjae-admin" />
    </div>

    <div class="field">
      <label for="password">비밀번호</label>
      <input id="password" type="password" class="input" placeholder="임시: 1234" />
    </div>

    <div class="role-row">
      <label class="role-pill">
        <input type="radio" name="role" value="admin" checked />
        <span>관리자 모드</span>
      </label>
      <label class="role-pill">
        <input type="radio" name="role" value="worker" />
        <span>작업자 모드</span>
      </label>
    </div>

    <div class="hint">
      데모용 임시 계정<br/>
      관리자: ID <b>admin</b> / PW <b>1234</b><br/>
      작업자: ID <b>worker</b> / PW <b>1234</b>
    </div>

    <button class="btn" id="loginBtn">LSMS 접속</button>
    <div class="error" id="errorBox"></div>

    <div class="footer">
      현재는 로컬 저장소 기반 데모 로그인입니다. (나중에 서버 인증으로 교체)
    </div>
  </div>

  <script>
    const loginBtn = document.getElementById("loginBtn");
    const errorBox = document.getElementById("errorBox");

    loginBtn.addEventListener("click", () => {
      const site = document.getElementById("site").value;
      const userId = document.getElementById("userId").value.trim();
      const password = document.getElementById("password").value.trim();
      const role = document.querySelector("input[name='role']:checked").value;

      // 임시 하드코딩 계정 (나중에 서버 인증으로 교체)
      const isAdminOK   = role === "admin"  && userId === "admin"  && password === "1234";
      const isWorkerOK  = role === "worker" && userId === "worker" && password === "1234";

      if (!isAdminOK && !isWorkerOK) {
        errorBox.textContent = "아이디 / 비밀번호 / 권한 조합이 올바르지 않습니다.";
        return;
      }

      const userInfo = {
        id: userId,
        role,
        site,
        loggedAt: new Date().toISOString(),
      };
      localStorage.setItem("lsmsUser", JSON.stringify(userInfo));

      // 현장별 페이지 이동 (지금은 index.html 하나 사용, 쿼리로 구분)
      window.location.href = "index.html?site=" + encodeURIComponent(site);
    });
  </script>
</body>
</html>
